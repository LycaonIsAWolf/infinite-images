mixin form(placeholder, action)
	form(method="post" enctype="multipart/form-data" class="post-form" action=action)
		div(class="form-group")
			textarea(class="form-control" id="body" name="body" placeholder=placeholder)
		div(class="form-group")
			label(for="image" class="btn btn-primary form-control") Choose a file
			input(type="file" id="image" class="image-upload" accept="image/*" name="image")
		div(class="form-group")
			input(class="btn btn-primary form-control" type="submit" value="Submit")
	if error
		div(class="text-danger")=error
	hr

mixin post(post)
	div(class="row post" id=post.id)
		- var time = new Date(post.time);
		- var id = post.id;
		div
			if post.image != ""
				img(class="post-image img-responsive col-md-7" src="/uploads/"+post.image)
			a(class="post-id text-center" href="/posts/"+post.id) #{id} | #{time.getMonth()}/#{time.getDate()}/#{time.getFullYear()} #{time.getHours()}:#{time.getMinutes()}:#{time.getSeconds()} | #{post.replies} replies
			span(class="post-body text-left col-md-7")!=post.body
		
	hr

doctype html
html
	head
		meta(charset="utf-8")
		meta(http-equiv="X-UA-Compatible" content="IE=edge")
		meta(name="viewport" content="width=device-width, initial-scale=1")

		meta(name="description" content="a single page anonymous imageboard")
		meta(name="author" content="lycaon")

		title Infinite Images

		link(rel="stylesheet" href="/css/bootstrap.min.css")
		link(rel="stylesheet" href="/css/style.css")
	
	body
		nav(class="navbar navbar-inverse navbar-fixed-top")
			div(class="container-fluid")
				div(class="navbar-header")
					a(class="navbar-brand" href="/") Infinite Images
				div(id="navbar" class="collapse navbar-collapse")
					ul(class="nav navbar-nav")
						li
							a(href="https://twitter.com/lycaontalks") Twitter
						li
							a(href="#github") Github

		div(class="container-fluid")
			block content

		script(type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js")
		script(type="text/javascript" src="js/bootstrap.min.js")